<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Football Club Simulator</title>
</head>
<body>
<button id="loginBtn" type="button" style="position: absolute; top: 16px; right: 16px;">Login</button>

<div id="loginModal" style="
    display:none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    z-index: 9999;
">
    <div style="
        background: #fff;
        width: 320px;
        max-width: calc(100% - 32px);
        margin: 120px auto;
        padding: 16px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
        font-family: Arial, sans-serif;
    ">
        <div style="display:flex; justify-content: space-between; align-items:center; margin-bottom: 12px;">
            <strong>Login</strong>
            <button id="closeModalBtn" type="button" style="border:0; background:transparent; font-size:18px; cursor:pointer;">âœ•</button>
        </div>

        <form id="loginForm">
            <label style="display:block; margin-bottom:6px;">Username</label>
            <input id="username" name="username" type="text" required style="width:100%; padding:8px; margin-bottom:12px;">

            <label style="display:block; margin-bottom:6px;">Parola</label>
            <input id="password" name="password" type="password" required style="width:100%; padding:8px; margin-bottom:14px;">

            <div style="display:flex; gap:10px; justify-content:flex-end;">
                <button id="cancelBtn" type="button">Cancel</button>
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
</div>

<h1>Welcome to Football Club Simulator</h1>

<p>Choose content:</p>
<ul>

    <li><a href="/html/players.html">Players</a></li>
    <li><a href="/html/clubs.html">Clubs</a></li>
</ul>

<!-- Temporary testing controls - remove later! -->
<hr>
<h3>Quick test login (development only)</h3>

<button onclick="fakeLogin('PLAYER')">Login as PLAYER</button>
<button onclick="fakeLogin('COACH')">Login as COACH</button>
<button onclick="fakeLogin('GUEST')">Login as GUEST</button>
<button onclick="logout()">Logout / Clear</button>

<p>Current role: <span id="current-role">not logged in</span></p>

<script>
    function fakeLogin(role) {
        const fakeUser = {
            userId: role === 'COACH' ? 3 : 5,
            username: role.toLowerCase() + "test",
            role: role
        };

        sessionStorage.setItem('currentUser', JSON.stringify(fakeUser));
        updateRoleDisplay();
        alert(`Logged in as ${role}`);
    }

    function logout() {
        sessionStorage.removeItem('currentUser');
        updateRoleDisplay();
        alert('Logged out');
    }

    function updateRoleDisplay() {
        const user = JSON.parse(sessionStorage.getItem('currentUser') || '{}');
        document.getElementById('current-role').textContent =
            user.role ? user.role : 'not logged in';
    }

    // Show current status when page loads
    updateRoleDisplay();
</script>
</body>
</html>
